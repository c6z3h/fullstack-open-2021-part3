{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Persons","persons","deletePerson","console","log","className","name","number","onClick","id","Filter","onChange","value","PersonForm","addPerson","data","onSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","Notification","message","baseUrl","getAll","axios","get","then","response","personObject","post","put","delete","Footer","style","color","background","fontStyle","fontSize","App","useEffect","personService","allPersons","setPersons","useState","setNewName","setNewNumber","filter","setFilter","notifMessage","setNotifMessage","peopleToShow","person","toLowerCase","includes","addPersonData","event","target","dangerMan","window","confirm","preventDefault","personsArray","map","updateMan","catch","error","setTimeout","p","newMan","returnedPersons","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c1dfefcb.chunk.js","sourcesContent":["const Persons = ({persons,deletePerson}) => {\r\n    console.log(\"persons\",persons)\r\n    return (\r\n        <div>\r\n        <li className='note' key={persons.id}>\r\n            {persons.name} {persons.number}\r\n            <button onClick={deletePerson}>delete</button>\r\n        </li> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ onChange, value }) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input onChange={onChange} value={value}></input>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson,data}) => {\r\n    return(\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name <input\r\n                value={data.newName}\r\n                onChange={data.handleNameChange}\r\n                />< br/>\r\n                number: <input\r\n                value={data.newNumber}\r\n                onChange={data.handleNumberChange}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","const Notification = ({ message }) => {\r\n    if (message === '') {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"notif\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import axios from 'axios'\r\n// const baseUrl = 'http://localhost:3001/persons'\r\nconst baseUrl = 'https:/evening-waters-50143.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = personObject => {\r\n  const request = axios.post(baseUrl, personObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, personObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, personObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return getAll()\r\n}\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nimport './index.css'\r\n\r\nconst Footer = () => {\r\n  const footerStyle = {\r\n    color: 'turquoise',\r\n    background: 'maroon',\r\n    fontStyle: 'italic',\r\n    fontSize: 25\r\n  }\r\n  return (\r\n    <div style={footerStyle}>\r\n      <em>Phonebook by (c6z3h)[https://github.com/c6z3h]</em>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  \r\n  // 1. READ PERSON(s)\r\n  const hook = () => {\r\n    personService\r\n    .getAll()\r\n    .then(allPersons => {setPersons(allPersons)\r\n    })\r\n  }\r\n\r\n  useEffect(hook, [])\r\n\r\n  // 1. INITIALIZE\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [notifMessage, setNotifMessage] = useState('')\r\n\r\n  // Event Handler\r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n  const handleFilterChange = (event) => setFilter(event.target.value)\r\n\r\n  // Filter\r\n  const peopleToShow = filter\r\n        ? persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n        : persons\r\n\r\n  // 2. CREATE or UPDATE PERSON\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n    const personsArray = persons.map(person => person.name.toLowerCase())\r\n    // Throw Error If Name Already in List\r\n    console.log(\"personsArray\", personsArray)\r\n    console.log(\"${newName}\",`${newName}`)\r\n    if (personsArray.includes(`${newName}`.toLowerCase())){\r\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n          // if user says \"OK\" and not \"cancel\"\r\n          const updateMan = persons.filter(person => person.name === `${newName}`)\r\n          console.log(\"updateMan is\", updateMan[0])\r\n          console.log(\"updateMan.id is\", updateMan[0].id)\r\n          personService\r\n            .update(updateMan[0].id, personObject)\r\n            .catch(error => {\r\n              setNotifMessage(\r\n                `Information of '${newName}' has already been removed from server`\r\n              )\r\n              setTimeout(() => {\r\n                setNotifMessage('')\r\n              }, 5000)\r\n              setPersons(persons.filter(p => p.id !== updateMan[0].id))\r\n            })\r\n            .then(newMan => {\r\n              setPersons(persons.map(person => person.id !== updateMan[0].id ? person : newMan))\r\n            })\r\n        }\r\n        setNotifMessage(`Updated ${newName}`)\r\n        setTimeout(() => {\r\n          setNotifMessage('')\r\n        }, 5000)\r\n      } else {\r\n        personService\r\n          .create(personObject)\r\n          .then(returnedPersons =>{\r\n          setPersons(persons.concat(returnedPersons))\r\n          setNotifMessage(`Added ${newName}`)\r\n          setTimeout(() => {\r\n            setNotifMessage('')\r\n          }, 5000)\r\n        })\r\n      }\r\n      setNewName('')\r\n      setNewNumber('')\r\n  }\r\n \r\n  const addPersonData = {\r\n    newName,\r\n    newNumber,\r\n    handleNameChange,\r\n    handleNumberChange\r\n  }\r\n  \r\n  // 3. DELETE PERSON\r\n  const deletePerson = id => {\r\n    const dangerMan = persons.filter(person => person.id === id)\r\n    console.log(dangerMan)\r\n    if (window.confirm(`Delete ${dangerMan[0].name} ?`)){\r\n      personService\r\n        .remove(id)\r\n        .then(persons =>{\r\n        setPersons(persons)\r\n    })\r\n    }\r\n    \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={notifMessage} />\r\n      <h2>Phonebook</h2>\r\n      <Filter onChange={handleFilterChange} value={filter} />\r\n      <h2>add a new</h2>\r\n      <PersonForm addPerson={addPerson} data={addPersonData} />\r\n      <h2>Numbers</h2>\r\n      <div>\r\n        {peopleToShow.map(persons =>\r\n            <Persons persons={persons} deletePerson={() => deletePerson(persons.id)} />\r\n        )}\r\n      </div>\r\n      <br />\r\n      <br />\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport axios from 'axios'\r\n\r\nconst promise = axios.get('http://localhost:3001/persons')\r\n\r\npromise.then(response =>{\r\n  console.log(response)\r\n})\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}