{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Persons","persons","deletePerson","console","log","className","name","number","onClick","id","Filter","onChange","value","PersonForm","addPerson","data","onSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","Notification","message","baseUrl","getAll","axios","get","then","response","personObject","post","put","delete","Footer","style","color","background","fontStyle","fontSize","href","App","useEffect","personService","allPersons","setPersons","useState","setNewName","setNewNumber","filter","setFilter","notifMessage","setNotifMessage","peopleToShow","person","toLowerCase","includes","addPersonData","event","target","dangerMan","window","confirm","preventDefault","personsArray","map","updateMan","catch","error","setTimeout","p","newMan","returnedPersons","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.197c491e.chunk.js","sourcesContent":["const Persons = ({persons,deletePerson}) => {\r\n    console.log(\"persons\",persons)\r\n    return (\r\n        <div>\r\n        <li className='note' key={persons.id}>\r\n            {persons.name} {persons.number}\r\n            <button onClick={deletePerson}>delete</button>\r\n        </li> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ onChange, value }) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input onChange={onChange} value={value}></input>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson,data}) => {\r\n    return(\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name <input\r\n                value={data.newName}\r\n                onChange={data.handleNameChange}\r\n                />< br/>\r\n                number: <input\r\n                value={data.newNumber}\r\n                onChange={data.handleNumberChange}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","const Notification = ({ message }) => {\r\n    if (message === '') {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"notif\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import axios from 'axios'\r\n// const baseUrl = 'http://localhost:3001/persons'\r\nconst baseUrl = '/api/persons' // Use relative url\r\n// Now HTTP GET requests to the address www.serversaddress.com/index.html or www.serversaddress.com will show the React frontend. GET requests to the address www.serversaddress.com/api/notes will be handled by the backend's code.\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = personObject => {\r\n  const request = axios.post(baseUrl, personObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, personObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, personObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return getAll()\r\n}\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nimport './index.css'\r\n\r\nconst Footer = () => {\r\n  const footerStyle = {\r\n    color: 'blue',\r\n    background: 'gray',\r\n    fontStyle: 'italic',\r\n    fontSize: 25,\r\n  }\r\n  return (\r\n    <div style={footerStyle}>\r\n      <em>Phonebook by <a href=\"https://github.com/c6z3h\">c6z3h</a></em>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  \r\n  // 1. READ PERSON(s)\r\n  const hook = () => {\r\n    personService\r\n    .getAll()\r\n    .then(allPersons => {\r\n      console.log(`this is allPersons: ${allPersons}`)\r\n      setPersons(allPersons)\r\n    })\r\n  }\r\n\r\n  useEffect(hook, [])\r\n\r\n  // 1. INITIALIZE\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [notifMessage, setNotifMessage] = useState('')\r\n\r\n  // Event Handler\r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n  const handleFilterChange = (event) => setFilter(event.target.value)\r\n\r\n  // Filter\r\n  const peopleToShow = filter\r\n        ? persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n        : persons\r\n\r\n  // 2. CREATE or UPDATE PERSON\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n    const personsArray = persons.map(person => person.name.toLowerCase())\r\n    // Throw Error If Name Already in List\r\n    console.log(\"personsArray\", personsArray)\r\n    console.log(\"${newName}\",`${newName}`)\r\n    if (personsArray.includes(`${newName}`.toLowerCase())){\r\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n          // if user says \"OK\" and not \"cancel\"\r\n          // TODO: bugfix - no re-render and no update\r\n          /* ISSUE: lower-case name input updates\r\n          1. Tried obtaining index of lowercase personsArray, passing it to normal-case persons array.\r\n          `TypeError: 4 is not a function`\r\n          2. Now... Let us do it without considering lower-cases. Anna !== anna now.\r\n          */\r\n          const updateMan = persons.filter(person => person.name === `${newName}`)\r\n          console.log(\"updateMan is\", updateMan[0])\r\n          console.log(\"updateMan.id is\", updateMan[0].id)\r\n          personService\r\n            .update(updateMan[0].id, personObject)\r\n            .catch(error => {\r\n              setNotifMessage(\r\n                `Information of '${newName}' has already been removed from server`\r\n              )\r\n              setTimeout(() => {\r\n                setNotifMessage('')\r\n              }, 5000)\r\n              setPersons(persons.filter(p => p.id !== updateMan[0].id))\r\n            })\r\n            .then(newMan => {\r\n              setPersons(persons.map(person => person.id !== newMan.id ? person : newMan))\r\n              setNotifMessage(`Updated ${newName}`)\r\n              setTimeout(() => {\r\n                setNotifMessage('')\r\n              }, 5000)\r\n            })\r\n        }\r\n      } else {\r\n        personService\r\n          .create(personObject)\r\n          .then(returnedPersons =>{\r\n          setPersons(persons.concat(returnedPersons))\r\n          setNotifMessage(`Added ${newName}`)\r\n          setTimeout(() => {\r\n            setNotifMessage('')\r\n          }, 5000)\r\n        })\r\n      }\r\n      setNewName('')\r\n      setNewNumber('')\r\n  }\r\n \r\n  const addPersonData = {\r\n    newName,\r\n    newNumber,\r\n    handleNameChange,\r\n    handleNumberChange\r\n  }\r\n  \r\n  // 3. DELETE PERSON\r\n  const deletePerson = id => {\r\n    const dangerMan = persons.filter(person => person.id === id)\r\n    console.log(dangerMan)\r\n    if (window.confirm(`Delete ${dangerMan[0].name} ?`)){\r\n      personService\r\n        .remove(id)\r\n        .then(persons =>{\r\n        setPersons(persons)\r\n    })\r\n    }\r\n    \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={notifMessage} />\r\n      <h2>Phonebook</h2>\r\n      <Filter onChange={handleFilterChange} value={filter} />\r\n      <h2>add a new</h2>\r\n      <PersonForm addPerson={addPerson} data={addPersonData} />\r\n      <h2>Numbers</h2>\r\n      <div>\r\n        {peopleToShow.map(persons =>\r\n            <Persons persons={persons} deletePerson={() => deletePerson(persons.id)} />\r\n        )}\r\n      </div>\r\n      <br />\r\n      <br />\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n// import axios from 'axios'\r\n\r\n// const promise = axios.get('http://localhost:3001/persons')\r\n\r\n// promise.then(response =>{\r\n//   console.log(response)\r\n// })\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}